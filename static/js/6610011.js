(window.webpackJsonp=window.webpackJsonp||[]).push([[62],{1409:function(e,t,o){"use strict";o.r(t);o(2),o(4),o(3),o(5),o(1),o(6);var l=o(14),n=o(11),r=(o(30),o(0),o(19),o(18),o(31),o(39),o(49),o(17)),c=o(42);function d(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,o)}return t}function m(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var v={name:"CrashValidateModal",mixins:[o(92).a],components:{IconQuestion:function(){return Promise.resolve().then(o.t.bind(null,782,7))},IconCopy:function(){return Promise.resolve().then(o.t.bind(null,622,7))},IconRefresh:function(){return Promise.resolve().then(o.t.bind(null,784,7))},IconRoundArrowRight:function(){return Promise.resolve().then(o.t.bind(null,785,7))}},data:function(){return{opened:!1,uuid:null,game:null,recentlyUpdated:!0,recentlyUpdatedTimerId:null,processing:!1}},computed:m(m(m({},Object(r.e)({currentGame:function(e){return e.crashSocket.game},currentGameMultiplier:function(e){return e.crashSocket.gameMultiplier},failedGames:function(e){return e.crashSocket.failedGames}})),Object(r.c)({getRoundStatus:"crash/getRoundStatus",connectedToGame:"crashSocket/readyToPlay"})),{},{status:function(){return this.game?this.getRoundStatus(this.game.status):null},isFinished:function(){return!!this.game&&[c.c.Completed,c.c.Failed].includes(this.game.status)},isCompleted:function(){return!!this.game&&this.game.status===c.c.Completed},canRefreshStatus:function(){return!this.connectedToGame&&!this.recentlyUpdated}}),methods:{onBeforeOpen:function(e){var t=e.cancel,o=e.params;if(!o||!o.uuid)return t&&t();this.uuid=o.uuid,this.loadGameValidation()},onBeforeClose:function(){this.uuid=null,this.game=null,this.stopRecentlyUpdated(),this.processing=!1},loadGameValidation:function(){var e=this;return Object(l.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.processing){t.next=2;break}return t.abrupt("return");case 2:return e.processing=!0,t.next=5,e.$makePause(300);case 5:return t.next=7,e.$api.games.crash.getRoundValidation(e.uuid,{progress:!1}).then((function(t){e.game=t.data,e.uuid=t.data.uuid,e.startRecentlyUpdated()})).catch((function(t){e.$noty({title:e.$t("notifications.fail"),text:e.$t("notifications.gameForValidationNotFound"),type:"error"}),e.$modal.hide("crashValidateModal")})).then((function(){e.processing=!1}));case 7:case"end":return t.stop()}}),t)})))()},loadFreshGameValidation:function(){var e=this;return Object(l.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.processing){t.next=2;break}return t.abrupt("return");case 2:return e.processing=!0,t.next=5,e.$makePause(300);case 5:return t.next=7,e.$api.games.crash.getCurrentRoundValidation({progress:!1}).then((function(t){e.game=t.data,e.uuid=t.data.uuid,e.startRecentlyUpdated()})).catch((function(t){e.$noty({title:e.$t("notifications.fail"),text:e.$t("notifications.currentGameForValidationNotFound"),type:"error"})})).then((function(){e.processing=!1}));case 7:case"end":return t.stop()}}),t)})))()},onRefreshRound:function(){!this.isFinished&&this.canRefreshStatus&&this.loadGameValidation()},onLoadFreshRound:function(){this.isFinished&&this.loadFreshGameValidation()},startRecentlyUpdated:function(){var e=this;this.stopRecentlyUpdated(),this.recentlyUpdatedTimerId=setTimeout((function(){e.recentlyUpdated=!1}),3e3)},stopRecentlyUpdated:function(){this.recentlyUpdatedTimerId&&(clearTimeout(this.recentlyUpdatedTimerId),this.recentlyUpdatedTimerId=null),this.recentlyUpdated=!0},onShowFairnessModal:function(){if(!this.processing&&this.game){var e={};this.isFinished&&(e={randomNumber:this.game.number,randomSalt:this.game.salt,rtp:this.game.rtp}),this.$modal.show("crashFairnessModal",e),this.$modal.hide("crashValidateModal")}}},watch:{currentGame:function(e){this.game&&e.uuid===this.uuid&&(this.game.status=e.status,e.status===c.c.Completed&&(this.game.multiplier=this.currentGameMultiplier,this.game.salt=e.hashSalt,this.game.number=e.randomNumber))},failedGames:function(e){e&&e.length&&this.game&&this.failedGames.includes(this.uuid)&&this.loadGameValidation()}}},h=o(10),component=Object(h.a)(v,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("vModal",{attrs:{classes:["crash-validate-modal"],name:"crashValidateModal",width:500,vertical:!0,inverse:!0,processing:e.processing,closable:!e.processing},on:{"before-open":e.onBeforeOpen,"before-close":e.onBeforeClose},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(e._s(e.$t("modals.crashValidate.title")))]},proxy:!0},{key:"sidebar",fn:function(){return[o("div",{staticClass:"crash-validate-modal-sidebar"},[o("h3",[e._v(e._s(e.$t("modals.crashValidate.fairness.title")))]),e._v(" "),o("p",{domProps:{innerHTML:e._s(e.$t("modals.crashValidate.fairness.text"))}}),e._v(" "),o("div",{staticClass:"btn-group"},[o("vButton",{attrs:{type:"primary",small:!0,disabled:e.processing},on:{click:e.onShowFairnessModal},scopedSlots:e._u([{key:"image",fn:function(){return[o("IconQuestion")]},proxy:!0}])},[e._v("\n          "+e._s(e.$t("modals.crashValidate.fairness.about"))+"\n\n          ")])],1)])]},proxy:!0}])},[e._v(" "),o("div",{staticClass:"crash-validate"},[e.game?[e.status?o("div",{staticClass:"key-value-block"},[o("div",{staticClass:"key-value-block-body",class:{"key-value-block-body_with-tool":e.isFinished||!e.connectedToGame}},[o("div",{staticClass:"key-value-block__title"},[e._v("\n            "+e._s(e.$t("modals.crashValidate.status.title"))+"\n            "),o("IconQuestion",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.$t("modals.crashValidate.status.tooltip"),expression:"$t('modals.crashValidate.status.tooltip')"}]})],1),e._v(" "),o("div",{staticClass:"key-value-block__value"},[o("vStatus",{attrs:{type:e.status.type,name:e.status.name,icon:e.status.icon}})],1),e._v(" "),e.isFinished?o("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.$t("modals.crashValidate.status.oldRound"),expression:"$t('modals.crashValidate.status.oldRound')"}],staticClass:"key-value-block__tool",class:{"key-value-block__tool_disabled":e.processing},on:{click:e.onLoadFreshRound}},[o("IconRoundArrowRight")],1):e.connectedToGame?e._e():o("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.$t("modals.crashValidate.status.refresh"),expression:"$t('modals.crashValidate.status.refresh')"}],staticClass:"key-value-block__tool",class:{"key-value-block__tool_disabled":e.processing||!e.canRefreshStatus},on:{click:e.onRefreshRound}},[o("IconRefresh")],1)])]):e._e(),e._v(" "),o("div",{staticClass:"key-value-block"},[o("div",{staticClass:"key-value-block-body"},[o("div",{staticClass:"key-value-block__title"},[e._v("\n            "+e._s(e.$t("modals.crashValidate.multiplier.title"))+"\n          ")]),e._v(" "),e.isCompleted?o("div",{staticClass:"key-value-block__value"},[o("vMultiplier",{attrs:{amount:e.game.multiplier,inverted:!0}})],1):o("div",{staticClass:"key-value-block__value key-value-block__value_empty"},[e._v("â€”")])])]),e._v(" "),o("div",{staticClass:"key-value-block"},[o("div",{staticClass:"key-value-block-body key-value-block-body_vertical key-value-block-body_with-tool"},[o("div",{staticClass:"key-value-block__title"},[e._v("\n            "+e._s(e.$t("modals.crashValidate.randomNumber.title"))+"\n            "),o("IconQuestion",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.$t("modals.crashValidate.randomNumber.tooltip"),expression:"$t('modals.crashValidate.randomNumber.tooltip')"}]})],1),e._v(" "),o("div",{staticClass:"key-value-block__value"},[e._v("\n            "+e._s(e.game.number||e.$t("modals.crashValidate.hidden"))+"\n          ")]),e._v(" "),o("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.$t("clipboard.copy"),expression:"$t('clipboard.copy')"}],staticClass:"key-value-block__tool",class:{"key-value-block__tool_disabled":null===e.game.number},on:{click:function(t){return e.copyToClipboard({value:e.game.number})}}},[o("IconCopy")],1)]),e._v(" "),o("div",{staticClass:"key-value-block-body key-value-block-body_vertical key-value-block-body_with-tool"},[o("div",{staticClass:"key-value-block__title"},[e._v("\n            "+e._s(e.$t("modals.crashValidate.randomSalt.title"))+"\n          ")]),e._v(" "),o("div",{staticClass:"key-value-block__value"},[e._v("\n            "+e._s(e.game.salt||e.$t("modals.crashValidate.hidden"))+"\n          ")]),e._v(" "),o("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.$t("clipboard.copy"),expression:"$t('clipboard.copy')"}],staticClass:"key-value-block__tool",class:{"key-value-block__tool_disabled":null===e.game.salt},on:{click:function(t){return e.copyToClipboard({value:e.game.salt})}}},[o("IconCopy")],1)])]),e._v(" "),o("div",{staticClass:"key-value-block"},[o("div",{staticClass:"key-value-block-body key-value-block-body_vertical key-value-block-body_overflow key-value-block-body_with-tool"},[o("div",{staticClass:"key-value-block__title"},[e._v("\n            "+e._s(e.$t("modals.crashValidate.resultHash.title"))+"\n            "),o("IconQuestion",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.$t("modals.crashValidate.resultHash.tooltip"),expression:"$t('modals.crashValidate.resultHash.tooltip')"}]})],1),e._v(" "),o("div",{staticClass:"key-value-block__value"},[e._v("\n            "+e._s(e.game.hash)+"\n          ")]),e._v(" "),o("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.$t("clipboard.copy"),expression:"$t('clipboard.copy')"}],staticClass:"key-value-block__tool",on:{click:function(t){return e.copyToClipboard({value:e.game.hash})}}},[o("IconCopy")],1)])])]:[o("vKvbLoading",{attrs:{scheme:[1],"min-height-default":66,"min-height-mobile":54}}),e._v(" "),o("vKvbLoading",{attrs:{scheme:[1],"min-height-default":60,"min-height-mobile":50}}),e._v(" "),o("vKvbLoading",{attrs:{scheme:[2,1]}})],e._v(" "),o("p",{staticClass:"small muted",domProps:{innerHTML:e._s(e.$t("modals.crashValidate.help"))}})],2)])}),[],!1,null,null,null);t.default=component.exports}}]);