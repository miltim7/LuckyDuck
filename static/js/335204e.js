(window.webpackJsonp=window.webpackJsonp||[]).push([[10,327,328,329,330,400,401,402],{1161:function(e,t,n){"use strict";n.r(t);var o=n(11),r=(n(0),n(19),n(18),n(2),n(4),n(3),n(5),n(1),n(6),n(17)),l=n(178);function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function m(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var d={name:"PagesGamesTowerGameFormBet",components:{PagesGamesCommonForm:function(){return Promise.resolve().then(n.bind(null,908))},PagesGamesCommonFormTools:function(){return Promise.resolve().then(n.bind(null,910))},PagesGamesCommonFormPresets:function(){return Promise.resolve().then(n.bind(null,911))}},data:function(){return{defaultBetAmount:10,betAmount:0,betAmountVariants:[2,5,25,100,250],autoBet:!1}},computed:m(m(m({},Object(r.e)({readyToPlay:function(e){return e.towerSocket.readyToPlay},minBetAmount:function(e){return e.tower.minBetAmount},maxBetAmount:function(e){return e.tower.maxBetAmount},form:function(e){return e.towerSocket.form},activeBet:function(e){return e.towerSocket.activeBet},windowSize:function(e){return e.page.windowSize}})),Object(r.c)({userAuthorized:"user/authorized",userBanned:"user/banned",userMainBalance:"userBalances/mainBalance"})),{},{balance:function(){return this.userAuthorized?this.userMainBalance:this.maxBetAmount},formDisabled:function(){return!!this.userAuthorized&&(!this.readyToPlay||(!this.form||(!(!this.form.betProcessing&&!this.form.autoBetStarted)||!(!this.activeBet||this.activeBet.status!==l.a.New&&this.activeBet.status!==l.a.Active))))}}),mounted:function(){this.form&&(this.betAmount=this.form.betAmount,this.autoBet=this.form.autoBet)},methods:m(m({},Object(r.d)({updateForm:"towerSocket/updateForm",resetActiveBet:"towerSocket/resetActiveBet",resetAutoBetCells:"towerSocket/resetAutoBetCells"})),{},{validateBetAmount:function(){var e=this;!this.activeBet&&this.userAuthorized&&this.betAmount>this.balance&&this.$nextTick((function(){e.betAmount=e.$roundFloor(e.balance,2)}))}}),watch:{betAmount:function(e){this.validateBetAmount(),this.form&&this.form.betAmount!==e&&(this.updateForm({betAmount:e}),this.resetActiveBet(!0))},autoBet:function(e){this.form&&this.form.autoBet!==e&&(this.updateForm({autoBet:e}),this.resetActiveBet(!0),this.resetAutoBetCells())},activeBet:function(e){e&&(this.betAmount=e.betAmount)}}},f=n(10),component=Object(f.a)(d,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("PagesGamesCommonForm",{attrs:{label:"pages.games.tower.game.form.bet.label",inputIcon:"ruble",defaultValue:e.defaultBetAmount,minInputValue:e.minBetAmount,maxInputValue:e.maxBetAmount,disabled:e.formDisabled},scopedSlots:e._u([{key:"labelExtra",fn:function(){return[n("vTumbler",{attrs:{disabled:e.formDisabled,label:e.windowSize<=768?e.$t("pages.games.tower.game.form.bet.autoBetShort"):e.$t("pages.games.tower.game.form.bet.autoBet")},model:{value:e.autoBet,callback:function(t){e.autoBet=t},expression:"autoBet"}})]},proxy:!0},{key:"inputTools",fn:function(){return[n("PagesGamesCommonFormTools",{attrs:{min:e.minBetAmount,max:e.maxBetAmount,disabled:e.formDisabled},model:{value:e.betAmount,callback:function(t){e.betAmount=t},expression:"betAmount"}})]},proxy:!0},{key:"presets",fn:function(t){var o=t.focused;return[n("PagesGamesCommonFormPresets",{attrs:{items:e.betAmountVariants,visible:o},model:{value:e.betAmount,callback:function(t){e.betAmount=t},expression:"betAmount"}})]}}]),model:{value:e.betAmount,callback:function(t){e.betAmount=t},expression:"betAmount"}})}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{PagesGamesCommonFormTools:n(910).default,PagesGamesCommonFormPresets:n(911).default,PagesGamesCommonForm:n(908).default})},1162:function(e,t,n){"use strict";n.r(t);n(2),n(4),n(3),n(5),n(1),n(6);var o=n(15),r=n(11),l=(n(0),n(19),n(18),n(47),n(103),n(17)),c=n(178);function m(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function d(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var f={name:"PagesGamesTowerGameFormMines",components:{PagesGamesCommonForm:function(){return Promise.resolve().then(n.bind(null,908))}},data:function(){return{mines:null}},computed:d(d(d({},Object(l.e)({readyToPlay:function(e){return e.towerSocket.readyToPlay},minMinesCount:function(e){return e.tower.minMinesCount},maxMinesCount:function(e){return e.tower.maxMinesCount},form:function(e){return e.towerSocket.form},activeBet:function(e){return e.towerSocket.activeBet},windowSize:function(e){return e.page.windowSize}})),Object(l.c)({userAuthorized:"user/authorized",userBanned:"user/banned"})),{},{minesList:function(){return Object(o.a)(new Array(this.maxMinesCount).keys()).map((function(e){return{value:e+1,name:e+1}}))},formDisabled:function(){return!!this.userAuthorized&&(!this.readyToPlay||(!this.form||(!(!this.form.betProcessing&&!this.form.autoBetStarted)||!(!this.activeBet||this.activeBet.status!==c.a.New&&this.activeBet.status!==c.a.Active))))}}),mounted:function(){this.form&&this.updateMinesByValue(this.form.minesCount)},methods:d(d({},Object(l.d)({updateForm:"towerSocket/updateForm",resetActiveBet:"towerSocket/resetActiveBet"})),{},{updateMinesByValue:function(e){var t=this.minesList.findIndex((function(t){return t.value===e}));-1!==t&&(this.mines=this.minesList[t])}}),watch:{mines:function(e){e&&this.form&&this.form.minesCount!==e.value&&(this.updateForm({minesCount:e.value}),this.resetActiveBet(!0))},activeBet:function(e){e&&this.updateMinesByValue(e.minesCount)}}},h=n(10),component=Object(h.a)(f,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("PagesGamesCommonForm",{attrs:{label:"pages.games.tower.game.form.mines.label",labelHelp:e.$t("pages.games.tower.game.form.mines.limits",{min:e.minMinesCount,max:e.maxMinesCount}),disabled:e.formDisabled},scopedSlots:e._u([{key:"customInput",fn:function(){return[n("vTabSelect",{attrs:{items:e.minesList,wide:e.windowSize<=576,solid:!1,monocolor:!1,disabled:e.formDisabled},model:{value:e.mines,callback:function(t){e.mines=t},expression:"mines"}})]},proxy:!0}])})}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{PagesGamesCommonForm:n(908).default})},1163:function(e,t,n){"use strict";n.r(t);n(2),n(4),n(3),n(5),n(1),n(6);var o=n(14),r=n(11),l=(n(30),n(0),n(19),n(18),n(49),n(17)),c=n(178),m=n(926);function d(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function f(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var h={name:"PagesGamesTowerGameFormButton",components:{PagesGamesCommonFormButton:function(){return Promise.resolve().then(n.bind(null,913))}},data:function(){return{prevProcessingNonce:null,processingNonce:null,autoBetTimerId:null}},computed:f(f(f({},Object(l.e)({gameRoom:function(e){return e.towerSocket.room},readyToPlay:function(e){return e.towerSocket.readyToPlay},pageVisible:function(e){return e.page.visible},form:function(e){return e.towerSocket.form},activeBet:function(e){return e.towerSocket.activeBet},rtp:function(e){return e.tower.rtpValue},maxProfit:function(e){return e.tower.maxProfit}})),Object(l.c)({userAuthorized:"user/authorized",userBanned:"user/banned",userMainBalance:"userBalances/mainBalance",requestProcessing:"webSocket/requestProcessing"})),{},{betAmount:function(){return this.form?this.form.betAmount:0},minesCount:function(){return this.form?this.form.minesCount:0},autoBet:function(){return!!this.form&&this.form.autoBet},autoBetCells:function(){return this.form?this.form.autoBetCells:[]},autoBetStarted:function(){return!!this.form&&this.form.autoBetStarted},buttonDisabled:function(){return!!this.userAuthorized&&(!this.readyToPlay||(!(this.autoBetStarted||!this.betProcessing)||(!(!this.activeBet||0!==this.activeBet.openedCells.length)||!(!this.autoBet||this.autoBetCells.length))))},betProcessing:function(){return!!this.processingNonce&&this.requestProcessing(this.processingNonce)},buttonColor:function(){return this.autoBetStarted?"red":!this.activeBet||this.activeBet.status!==c.a.New&&this.activeBet.status!==c.a.Active?"blue":this.activeBet.openedCells.length?"green":"blue"},buttonText:function(){return this.autoBetStarted?this.$t("pages.games.tower.game.form.button.stop"):!this.activeBet||this.activeBet.status!==c.a.New&&this.activeBet.status!==c.a.Active?this.autoBet?this.$t("pages.games.tower.game.form.button.start"):this.$t("pages.games.tower.game.form.button.play"):this.activeBet.openedCells.length?this.$t("pages.games.tower.game.form.button.take"):this.$t("pages.games.tower.game.form.button.select")},buttonHelp:function(){return this.autoBetStarted?this.$t("pages.games.tower.game.form.button.autoBet"):!this.activeBet||this.activeBet.status!==c.a.New&&this.activeBet.status!==c.a.Active?this.autoBet?this.$t("pages.games.tower.game.form.button.autoBet"):null:this.activeBet.openedCells.length?null:this.$t("pages.games.tower.game.form.button.cell")},buttonAmount:function(){return this.activeBet&&(this.activeBet.status===c.a.New||this.activeBet.status===c.a.Active)&&this.activeBet.openedCells.length?this.calcWinAmount():null}}),mounted:function(){this.$root.$on("sockets.error.".concat(this.gameRoom,".bet"),this.onFailedBet)},beforeDestroy:function(){this.$root.$off("sockets.error.".concat(this.gameRoom,".bet"),this.onFailedBet),this.stopAutoBet()},methods:f(f(f({},Object(l.d)({updateForm:"towerSocket/updateForm",resetActiveBet:"towerSocket/resetActiveBet"})),Object(l.b)({addRequest:"webSocket/addRequest"})),{},{onSubmit:function(){this.buttonDisabled||(this.userAuthorized?this.userBanned?this.$modal.show("accountBannedModal"):this.autoBetStarted?this.stopAutoBet():this.autoBet?this.startAutoBet():this.activeBet&&this.activeBet.status===c.a.Active?this.takeWin():this.createBet():this.$modal.show("loginModal"))},startAutoBet:function(){var e=this;this.autoBet&&!this.autoBetStarted&&(this.updateForm({autoBetStarted:!0}),this.activeBet&&this.resetActiveBet(),this.autoBetTimerId=setInterval((function(){null===e.autoBetTimerId||e.activeBet||e.createBet()}),100))},stopAutoBet:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(e||this.autoBetStarted)&&(this.updateForm({autoBetStarted:!1}),this.autoBetTimerId&&(clearInterval(this.autoBetTimerId),this.autoBetTimerId=null))},createBet:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.betProcessing){t.next=2;break}return t.abrupt("return");case 2:if(!(e.betAmount>e.userMainBalance)){t.next=6;break}return e.autoBetStarted&&e.stopAutoBet(),e.$noty({title:e.$t("notifications.warn"),text:e.$t("notifications.balanceInsufficientForBet"),type:"warning"}),t.abrupt("return");case 6:if(e.autoBetStarted||e.$root.$emit("sounds:tower:bet"),e.processingNonce=e.$makeHash(),e.addRequest(e.processingNonce),e.updateForm({betProcessing:!0}),!e.autoBetStarted){t.next=15;break}return t.next=13,e.$makePause(300);case 13:t.next=17;break;case 15:return t.next=17,e.$makePause(50);case 17:e.autoBet?e.$root.socket.emit("".concat(e.gameRoom,".bet"),{nonce:e.processingNonce,minesCount:e.minesCount,betAmount:e.betAmount,cells:e.autoBetCells}):e.$root.socket.emit("".concat(e.gameRoom,".start"),{nonce:e.processingNonce,minesCount:e.minesCount,betAmount:e.betAmount});case 18:case"end":return t.stop()}}),t)})))()},takeWin:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.betProcessing){t.next=2;break}return t.abrupt("return");case 2:return e.processingNonce=e.$makeHash(),e.addRequest(e.processingNonce),e.updateForm({betProcessing:!0}),t.next=7,e.$makePause(50);case 7:e.$root.socket.emit("".concat(e.gameRoom,".take"),{nonce:e.processingNonce});case 8:case"end":return t.stop()}}),t)})))()},onFailedBet:function(data){data.nonce&&(data.nonce!==this.processingNonce&&data.nonce!==this.prevProcessingNonce||this.stopAutoBet())},calcWinAmount:function(){var e=Object(m.d)(this.activeBet.minesCount,this.activeBet.openedCells.length,{rtp:this.rtp}),t=this.$round(e*this.betAmount,2);return t>this.maxProfit&&(t=this.maxProfit),t}}),watch:{betProcessing:function(e){e||(this.prevProcessingNonce=this.processingNonce,this.processingNonce=null,this.updateForm({betProcessing:!1}))},autoBetStarted:function(e){e||this.stopAutoBet(!0)},userAuthorized:function(e){e||this.stopAutoBet()}}},v=h,B=n(10),component=Object(B.a)(v,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("PagesGamesCommonFormButton",{attrs:{color:e.buttonColor,text:e.buttonText,help:e.buttonHelp,amount:e.buttonAmount,loading:e.autoBetStarted,processing:!e.autoBetStarted&&e.betProcessing,disabled:e.buttonDisabled},on:{click:e.onSubmit}})}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{PagesGamesCommonFormButton:n(913).default})},1308:function(e,t,n){"use strict";n.r(t);n(0),n(19),n(18);var o={name:"PagesGamesTowerGameForm",components:{PagesGamesTowerGameFormBet:function(){return Promise.resolve().then(n.bind(null,1161))},PagesGamesTowerGameFormMines:function(){return Promise.resolve().then(n.bind(null,1162))},PagesGamesTowerGameFormButton:function(){return Promise.resolve().then(n.bind(null,1163))}}},r=n(10),component=Object(r.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tower-game-form"},[n("div",{staticClass:"game-form-group"},[n("PagesGamesTowerGameFormBet"),e._v(" "),n("PagesGamesTowerGameFormMines")],1),e._v(" "),n("PagesGamesTowerGameFormButton")],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{PagesGamesTowerGameFormBet:n(1161).default,PagesGamesTowerGameFormMines:n(1162).default,PagesGamesTowerGameFormButton:n(1163).default})},906:function(e,t,n){n(907)},907:function(e,t,n){"use strict";var o=n(23),r=n(20),l=n(37),c=n(26),m=n(58),d=n(34),f=n(175),h=n(44),v=n(99),B=n(176),_=n(359),y=n(33),w=n(74),P=y("replace"),A=RegExp.prototype,C=r.TypeError,x=c(B),O=c("".indexOf),k=c("".replace),S=c("".slice),j=Math.max,V=function(e,t,n){return n>e.length?-1:""===t?n:O(e,t,n)};o({target:"String",proto:!0},{replaceAll:function(e,t){var n,o,r,c,B,y,$,I,F,T=m(this),N=0,G=0,M="";if(null!=e){if((n=f(e))&&(o=h(m("flags"in A?e.flags:x(e))),!~O(o,"g")))throw C("`.replaceAll` does not allow non-global regexes");if(r=v(e,P))return l(r,e,T,t);if(w&&n)return k(h(T),e,t)}for(c=h(T),B=h(e),(y=d(t))||(t=h(t)),$=B.length,I=j(1,$),N=V(c,B,0);-1!==N;)F=y?h(t(B,N,c)):_(B,c,N,[],void 0,t),M+=S(c,G,N)+F,G=N+$,N=V(c,B,N+I);return G<c.length&&(M+=S(c,G)),M}})},908:function(e,t,n){"use strict";n.r(t);n(36),n(31),n(32),n(55),n(906);var o={name:"PagesGamesCommonForm",props:{label:{type:String,default:null},labelHelp:{type:String,default:null},inputIcon:{type:String,default:null},bigInputIcon:{type:Boolean,default:!1},value:{type:Number,default:null},defaultValue:{type:Number,default:null},minInputValue:{type:Number,default:null},maxInputValue:{type:Number,default:null},inputType:{type:String,default:"text",validate:function(e){return["text","number"].includes(e)}},inputStep:{type:Number,default:null},disabled:{type:Boolean,default:!1}},data:function(){return{formId:null,focused:!1,currentValue:this.value}},mounted:function(){this.formId=this.$uniqueId("bet")},methods:{onFocus:function(){this.focused=!0},onBlur:function(){this.focused=!1,this.validateValue(),this.emitValue()},validateValue:function(){var e=String(this.currentValue);(e=(e=e.replaceAll(",",".")).replaceAll(/[^0-9.]+/gi,""))&&e.length||null===this.defaultValue||(e=this.defaultValue),e=Number(e),isNaN(e)&&(e=this.defaultValue),null!==this.minInputValue&&e<this.minInputValue&&(e=this.minInputValue),null!==this.maxInputValue&&e>this.maxInputValue&&(e=this.maxInputValue),"text"===this.inputType?e=Math.round(100*e)/100:"number"===this.inputType&&(e=Math.round(e)),this.currentValue=e},emitValue:function(){this.$emit("input",this.currentValue)}},watch:{value:function(e){this.currentValue=e}}},r=n(10),component=Object(r.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:["game-form",{"game-form_focused":e.focused}]},[n("div",{staticClass:"game-form-header"},[e.label?n("label",{staticClass:"game-form__label",attrs:{for:e.$scopedSlots.customInput?null:e.formId}},[e._v("\n      "+e._s(e.$t(e.label))+"\n    ")]):e._e(),e._v(" "),e.$scopedSlots.customLabel?[n("div",{staticClass:"game-form__label-custom"},[e._t("customLabel")],2)]:e._e(),e._v(" "),e.$scopedSlots.labelHelp?[n("div",{staticClass:"game-form__label-help"},[e._t("labelHelp")],2)]:e.labelHelp?[n("div",{staticClass:"game-form__label-help"},[n("span",{domProps:{innerHTML:e._s(e.$t(e.labelHelp))}})])]:e._e(),e._v(" "),e.$scopedSlots.labelExtra?[n("div",{staticClass:"game-form__label-extra"},[e._t("labelExtra")],2)]:e._e()],2),e._v(" "),n("div",{staticClass:"game-form-body"},[e.inputIcon?n("div",{class:["game-form__input-icon",{"game-form__input-icon_big":e.bigInputIcon},{"game-form__input-icon_muted":e.disabled}]},[n("vIcon",{attrs:{name:e.inputIcon}})],1):e._e(),e._v(" "),n("div",{staticClass:"game-form__input"},[e.$scopedSlots.customInput?[e._t("customInput")]:["checkbox"===e.inputType?n("input",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],attrs:{id:e.formId,name:e.formId,step:e.inputStep,min:"number"===e.inputType?e.minInputValue:null,max:"number"===e.inputType?e.maxInputValue:null,disabled:e.disabled,type:"checkbox"},domProps:{checked:Array.isArray(e.currentValue)?e._i(e.currentValue,null)>-1:e.currentValue},on:{focus:e.onFocus,blur:e.onBlur,change:function(t){var n=e.currentValue,o=t.target,r=!!o.checked;if(Array.isArray(n)){var l=e._i(n,null);o.checked?l<0&&(e.currentValue=n.concat([null])):l>-1&&(e.currentValue=n.slice(0,l).concat(n.slice(l+1)))}else e.currentValue=r}}}):"radio"===e.inputType?n("input",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],attrs:{id:e.formId,name:e.formId,step:e.inputStep,min:"number"===e.inputType?e.minInputValue:null,max:"number"===e.inputType?e.maxInputValue:null,disabled:e.disabled,type:"radio"},domProps:{checked:e._q(e.currentValue,null)},on:{focus:e.onFocus,blur:e.onBlur,change:function(t){e.currentValue=null}}}):n("input",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],attrs:{id:e.formId,name:e.formId,step:e.inputStep,min:"number"===e.inputType?e.minInputValue:null,max:"number"===e.inputType?e.maxInputValue:null,disabled:e.disabled,type:e.inputType},domProps:{value:e.currentValue},on:{focus:e.onFocus,blur:e.onBlur,input:function(t){t.target.composing||(e.currentValue=t.target.value)}}})]],2),e._v(" "),e.$scopedSlots.inputTools?[e._t("inputTools")]:e._e()],2),e._v(" "),e.$scopedSlots.presets?[e._t("presets",null,{focused:e.focused})]:e._e()],2)}),[],!1,null,null,null);t.default=component.exports},910:function(e,t,n){"use strict";n.r(t);n(0),n(19),n(18),n(36);var o={name:"PagesGamesCommonFormTools",components:{IconDivider:function(){return Promise.resolve().then(n.t.bind(null,658,7))},IconMultiplier:function(){return Promise.resolve().then(n.t.bind(null,866,7))}},props:{value:{type:Number},decimals:{type:Number,default:2},min:{type:Number},max:{type:Number},disabled:{type:Boolean,default:!1},withDivider:{type:Boolean,default:!0},withMultiplier:{type:Boolean,default:!0},withMin:{type:Boolean,default:!1},withMax:{type:Boolean,default:!1}},data:function(){return{currentValue:this.value}},methods:{emitValue:function(){this.$emit("input",this.currentValue)},change:function(e){if(!this.disabled){var t=this.currentValue;switch(e){case"divide":t=this.$round(t/2,this.decimals);break;case"multiply":t=this.$round(2*t,this.decimals);break;case"min":t=this.min;break;case"max":t=this.max;break;default:return}t<this.min&&(t=this.min),t>this.max&&(t=this.max),this.currentValue=t,this.emitValue(),this.$root.$emit("sounds:click")}}},watch:{value:function(e){this.currentValue=e}}},r=n(10),component=Object(r.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"game-form-tools"},[e.withDivider?n("button",{class:["game-form-tools__item","game-form-tools__item_divider",{"game-form-tools__item_disabled":e.disabled}],attrs:{"aria-label":"Divide"},on:{click:function(t){return e.change("divide")}}},[n("IconDivider")],1):e._e(),e._v(" "),e.withMultiplier?n("button",{class:["game-form-tools__item","game-form-tools__item_multiplier",{"game-form-tools__item_disabled":e.disabled}],attrs:{"aria-label":"Multiply"},on:{click:function(t){return e.change("multiply")}}},[n("IconMultiplier")],1):e._e(),e._v(" "),e.withMin?n("button",{class:["game-form-tools__item","game-form-tools__item_min",{"game-form-tools__item_disabled":e.disabled}],attrs:{"aria-label":"MIN"},on:{click:function(t){return e.change("min")}}},[n("span",[e._v("MIN")])]):e._e(),e._v(" "),e.withMax?n("button",{class:["game-form-tools__item","game-form-tools__item_max",{"game-form-tools__item_disabled":e.disabled}],attrs:{"aria-label":"MAX"},on:{click:function(t){return e.change("max")}}},[n("span",[e._v("MAX")])]):e._e()])}),[],!1,null,null,null);t.default=component.exports},911:function(e,t,n){"use strict";n.r(t);n(0),n(19),n(18),n(36);var o={name:"PagesGamesCommonFormPresets",components:{IconEdit:function(){return Promise.resolve().then(n.t.bind(null,771,7))}},data:function(){return{currentValue:this.value}},props:{value:{type:Number},decimals:{type:Number,default:null},visible:{type:Boolean,default:!1},items:{type:Array},editable:{type:Boolean,default:!1},right:{type:Boolean,default:!1}},methods:{emitValue:function(){this.$emit("input",this.currentValue)},onSelect:function(e){this.currentValue=e,this.emitValue(),this.$root.$emit("sounds:click")},onEdit:function(){this.editable&&(this.$root.$emit("sounds:click"),this.$emit("edit"))}},watch:{value:function(e){this.currentValue=e}}},r=n(10),component=Object(r.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:["game-form-presets",{"game-form-presets_visible":e.visible},{"game-form-presets_right":e.right}]},[e._l(e.items,(function(t,o){return[n("button",{key:o,staticClass:"game-form-presets__item",attrs:{"aria-label":t},on:{click:function(n){return e.onSelect(t)}}},[null===e.decimals?[e._v(e._s(t))]:[e._v(e._s(Number(t).toFixed(e.decimals)))]],2)]})),e._v(" "),e.editable?n("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.$t("ui.gameForm.presets.edit"),expression:"$t('ui.gameForm.presets.edit')"}],staticClass:"game-form-presets__item game-form-presets__item_edit",attrs:{"aria-label":"Edit"},on:{click:e.onEdit}},[n("IconEdit")],1):e._e()],2)}),[],!1,null,null,null);t.default=component.exports},913:function(e,t,n){"use strict";n.r(t);n(0),n(19),n(18),n(31),n(36);var o={name:"PagesGamesCommonFormButton",components:{IconSpinner:function(){return Promise.resolve().then(n.t.bind(null,835,7))}},props:{color:{type:String,default:null,validate:function(e){return[null,"blue","red","green"].includes(e)}},text:{type:String,default:null},help:{type:String,default:null},amount:{type:Number,default:null},loading:{type:Boolean,default:!1},processing:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},maxDecimals:{type:Number,default:2}}},r=n(10),component=Object(r.a)(o,(function(){var e,t=this,n=t.$createElement,o=t._self._c||n;return o("button",{class:["game-form-button",(e={},e["game-form-button_"+t.color]=!!t.color,e),{"game-form-button_loading":t.loading},{"game-form-button_processing":t.processing},{"game-form-button_disabled":t.disabled||t.processing},{"game-form-button_with-help":t.help||t.amount}],attrs:{"aria-label":t.text},on:{click:function(e){return t.$emit("click")}}},[o("span",{staticClass:"game-form-button-content"},[o("span",{staticClass:"game-form-button__text"},[t._v("\n      "+t._s(t.text)+"\n\n      "),o("span",{staticClass:"game-form-button__loading"},[o("IconSpinner")],1)]),t._v(" "),o("span",{staticClass:"game-form-button__help"},[null!==t.help?o("span",[t._v(t._s(t.help))]):t._e(),t._v(" "),null!==t.amount?o("vAmount",{attrs:{amount:t.amount,minDecimals:2,"max-decimals":t.maxDecimals}}):t._e()],1)]),t._v(" "),o("span",{staticClass:"game-form-button__processing"},[o("IconSpinner")],1)])}),[],!1,null,null,null);t.default=component.exports},926:function(e,t,n){"use strict";n.d(t,"d",(function(){return m})),n.d(t,"e",(function(){return c})),n.d(t,"c",(function(){return d})),n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return h})),n.d(t,"f",(function(){return v}));var o=n(15),r=(n(0),n(18),n(83),n(139),n(36),n(7),n(47),n(219)),l=n(40),c=function(e,t){for(var n=t.rtp,o=void 0===n?.97:n,r=t.levelsCount,c=void 0===r?9:r,m=t.cellsCount,d=void 0===m?5:m,f=[],h=0,v=1;h<c;h++){v*=(d-e)/d;var B=Object(l.r)(1/v*o,2);f.push(B)}return f},m=function(e,t,n){var o=n.rtp,r=void 0===o?.97:o,l=n.levelsCount,m=void 0===l?9:l,d=n.cellsCount,f=void 0===d?5:d;return t<1||t>m||e<1||e>f-1?0:c(e,{rtp:r,levelsCount:m,cellsCount:f})[t-1]},d=function(e,t,n,l,c){var m=c.levelsCount,d=void 0===m?9:m,f=c.cellsCount,h=void 0===f?5:f;if(e<1||e>h-1)return null;for(var v=Math.round((h-1)*d),B=Object(r.c)(t,n,l,v),_=[],y=0;y<d;y++)for(var w=h,i=0;i<h-1;i++)_.push(Math.floor(B.shift()*w--));for(var P=[],A=0;A<d;A++){for(var C=Object(o.a)(Array(h).keys()),x=[],O=0;O<h-1;O++){var k=_.shift();O<e&&x.push.apply(x,Object(o.a)(C.splice(k,1)))}P.push(x)}return{minesCells:P}},f=function(e,t,n){for(var r=n.levelsCount,l=void 0===r?9:r,c=n.cellsCount,m=void 0===c?5:c,d=[],f=Object(o.a)(e),h=0;h<l;h++)for(var v=m,i=0;i<m-1&&f.length;i++){var B=f.shift(),_=Number(B.result*v).toFixed(12),y=Math.floor(Number(_));d.push({active:i<t,calculates:[{sign:null,value:B.result,formula:"(*".concat(v,")")},{sign:"=",value:_,formula:"(Math.floor)"},{sign:"=",value:y,formula:null}],result:y}),--v}return d},h=function(e,t,n){for(var r=n.levelsCount,l=void 0===r?9:r,c=n.cellsCount,m=void 0===c?5:c,d=Object(o.a)(t),f=[],h=[],v=0;v<l;v++){for(var table=[],B=Object(o.a)(Array(m).keys()),_=[],y=[],w=function(i){var t=i<m-1?d.shift():null,n=t?t.result:null,r=i+1>e;if(table.push([].concat(Object(o.a)(_.map((function(e){return{value:e,hidden:!0,active:!1}}))),Object(o.a)(B.map((function(e,t){return{value:e,hidden:r,active:t===n}}))))),null!==n){var l=Object(o.a)(B.splice(n,1));_.push.apply(_,Object(o.a)(l)),r||y.push.apply(y,Object(o.a)(l))}},i=0;i<m;i++)w(i);f.push(table),h.push(y)}return{tables:f,mines:h}},v=function(source,e){var t=e.cellsCount,n=void 0===t?5:t,o={minesCount:null};return source&&(source.minesCount&&!isNaN(Number(source.minesCount))&&source.minesCount>=1&&source.minesCount<n?o.minesCount={value:Number(source.minesCount),name:Number(source.minesCount)}:o.minesCount=null,null===o.minesCount&&(o.minesCount={value:1,name:1})),o}}}]);