(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{1420:function(e,t,n){"use strict";n.r(t);n(2),n(4),n(3),n(5),n(1),n(6);var r=n(14),o=n(11),c=(n(30),n(47),n(50),n(45),n(0),n(17));function l(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function f(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var d={name:"CommonSidebarLanguage",data:function(){return{locale:null}},computed:f(f({},Object(c.c)({authorized:"user/authorized"})),{},{locales:function(){return this.$i18n.locales.map((function(e){return{value:e.code,name:e.name,image:n(971)("./".concat(e.code,".svg"))}}))}}),created:function(){this.updateLocale(this.$i18n.locale)},methods:f(f({},Object(c.b)({setUserSettings:"userSettings/setSettings"})),{},{updateLocale:function(e){this.locale=this.locales.find((function(t){return t.value===e}))},onChangeLocale:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.resolve().then((function(){if(t.authorized)return t.$api.account.saveSettings({language:e.value})})).then(Object(r.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.locale=e,n.next=3,t.$i18n.setLocale(e.value);case 3:if(t.$DateTimeSettings.defaultLocale=e.value,!t.authorized){n.next=7;break}return n.next=7,t.setUserSettings({language:e.value});case 7:case"end":return n.stop()}}),n)})))).catch((function(e){e.error.attributes&&e.error.attributes.language&&e.error.attributes.language.length&&t.$noty({title:t.$t("notifications.fail"),text:e.error.attributes.language[0],type:"error"})}));case 2:case"end":return n.stop()}}),n)})))()}}),watch:{"$i18n.locale":function(e){this.updateLocale(e)}}},v=n(10),component=Object(v.a)(d,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.locale?n("div",{staticClass:"sidebar-language"},[n("vSelector",{attrs:{items:e.locales,value:e.locale},on:{input:e.onChangeLocale}})],1):e._e()}),[],!1,null,null,null);t.default=component.exports},971:function(e,t,n){var map={"./en.svg":972,"./ru.svg":973};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(map,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return map[e]}r.keys=function(){return Object.keys(map)},r.resolve=o,e.exports=r,r.id=971},972:function(e,t,n){e.exports=n.p+"img/e52f959.svg"},973:function(e,t,n){e.exports=n.p+"img/68d0e08.svg"}}]);